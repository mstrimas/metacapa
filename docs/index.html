<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Metapopulation Capacity-based Conservation Prioritization • metacapa</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Metapopulation Capacity-based Conservation Prioritization">
<meta property="og:description" content="
  Tools for calculating Hanski and Ovaskainen's (2000) metapopulation capacity, 
  a relative metric of metapopulation persistence, and performing 
  persistence-based conservation prioritization based on this metric.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">metacapa</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mstrimas/metacapa">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="metacapa-metapopulation-capacity-of-landscapes" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#metacapa-metapopulation-capacity-of-landscapes" class="anchor"></a>metacapa: metapopulation capacity of landscapes</h1></div>

<p>Metapopulation capacity (Hanski &amp; Ovaskainen 2000) is a relative measure of a spatially explicit landscape’s ability to support a metapopulation of a species. It is calculated as the dominant eigenvalue of a landscape matrix that encapsulates the areas and interpatch distances of the landscape, as well as the dispersal ability of the species. Since metapopulation capacity can rank landscapes by their ability to support a species in the long term, it is a useful metric for evaluating alternative scenerios in the context of conservation plannaing and prioritization. The <code>metacapa</code> package implements the calculation of metapopulation capacity, both the original formulation and the modification proposed by Schnell et al. (2013) to account for self-colonization.</p>
<p>In addition, <code>metacapa</code> includes tools for performing persistence-based conservation prioritization exercises using metapopulation capacity. In particular, this package implements the method developed by Strimas-Mackey and Bodie (2018).</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>You can install metacapa from github with:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"mstrimas/metacapa"</span>)</code></pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>Given a configuration of habitat patches and a disersal kernel function of a species, calculate the metapopulation capacity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(raster)
<span class="co">#&gt; Loading required package: sp</span>
<span class="kw">library</span>(metacapa)

<span class="co"># generate a network of patches</span>
r &lt;-<span class="st"> </span>raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">nrows =</span> <span class="dv">10</span>, <span class="dt">ncols =</span> <span class="dv">10</span>, <span class="dt">crs =</span> <span class="st">"+proj=aea"</span>)
r[] &lt;-<span class="st"> </span><span class="kw">round</span>(<span class="kw">runif</span>(raster<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/ncell">ncell</a></span>(r)) <span class="op">*</span><span class="st"> </span><span class="fl">0.7</span>)

<span class="co"># exponential dispersal kernel</span>
f &lt;-<span class="st"> </span><span class="kw"><a href="reference/dispersal.html">dispersal_negexp</a></span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span><span class="dv">100</span>)

<span class="co"># calulate the areas and interpatch distances</span>
pc &lt;-<span class="st"> </span><span class="kw"><a href="reference/patch_config.html">patch_config</a></span>(r, <span class="st">"m"</span>)
<span class="co">#&gt; Loading required namespace: rgeos</span>

<span class="co"># metapopulation capacity</span>
<span class="kw"><a href="reference/meta_capacity.html">meta_capacity</a></span>(pc, <span class="dt">f =</span> f)
<span class="co">#&gt; [1] 302648.6</span></code></pre></div>
<p>In the context of conservation prioritization, the landscape is divided into planning units, a subset of which are selected for inclusion in a candidate reserve network. Metapopulation capcity can be calcualted for a suite of species, given data on the occurrence of each species within each planning unit.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate data for three species</span>
<span class="co"># distributions</span>
r &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/raster">raster</a></span>(<span class="dt">nrows =</span> <span class="dv">10</span>, <span class="dt">ncols =</span> <span class="dv">10</span>, 
            <span class="co">#xmn = 0, xmx = 1, ymn = 0, ymx = 1,</span>
            <span class="dt">crs =</span> <span class="st">"+proj=aea"</span>,
            <span class="dt">vals =</span> <span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>))
s &lt;-<span class="st"> </span><span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/stack">stack</a></span>(r, r, r)
s[[<span class="dv">2</span>]][] &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.6</span>, <span class="fl">0.4</span>))
s[[<span class="dv">3</span>]][] &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="dv">0</span><span class="op">:</span><span class="dv">1</span>, <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="fl">0.2</span>))
<span class="kw"><a href="http://www.rdocumentation.org/packages/raster/topics/names">names</a></span>(s) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">"a"</span>, <span class="st">"b"</span>, <span class="st">"c"</span>)
<span class="co"># dispersal kernel function</span>
disp_f &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">a =</span> <span class="kw"><a href="reference/dispersal.html">dispersal_negexp</a></span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span><span class="fl">0.01</span>),
               <span class="dt">b =</span> <span class="kw"><a href="reference/dispersal.html">dispersal_negexp</a></span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span><span class="fl">0.005</span>),
               <span class="dt">c =</span> <span class="kw"><a href="reference/dispersal.html">dispersal_negexp</a></span>(<span class="dv">1</span> <span class="op">/</span><span class="st"> </span><span class="fl">0.02</span>))

<span class="co"># select 30% of planning units for inclusion</span>
selected &lt;-<span class="st"> </span><span class="kw">sample</span>(<span class="kw">c</span>(<span class="ot">FALSE</span>, <span class="ot">TRUE</span>), <span class="dv">100</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>, <span class="dt">prob =</span> <span class="kw">c</span>(<span class="fl">0.7</span>, <span class="fl">0.3</span>))

<span class="co"># calculate metapopulation capacity for each species</span>
<span class="kw"><a href="reference/mc_reserve.html">mc_reserve</a></span>(s, selected, disp_f)
<span class="co">#&gt;            a            b            c </span>
<span class="co">#&gt; 1.849339e-04 1.320058e-04 9.177311e-05</span></code></pre></div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<pre><code>Hanski, I., and O. Ovaskainen (2000), The metapopulation capacity of a fragmented landscape, Nature, 404: 755–758. doi:10.1038/35008063

Schnell, J.K., G.M. Harris, S.L. Pimm, and G.J. Russel (2013), Estimating extinction risk with metapopulation models of large-scale fragmentation. Conservation Biology, 27: 520–530. doi:10.1111/cobi.12047

Strimas-Mackey, M. and J.F. Brodie (2018), Reserve design to optimize the long-term persistence of multiple species. In Review.</code></pre>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/mstrimas/metacapa">https://​github.com/​mstrimas/​metacapa</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mstrimas/metacapa/issues">https://​github.com/​mstrimas/​metacapa/​issues</a>
</li>
</ul>
<h2>License</h2>
<p><a href="LICENSE.html">Full license</a><br><small><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a><small></small></small></p>
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing metacapa</a></li>
</ul>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Matthew Strimas-Mackey <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-8929-7776" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid"></a> </li>
<li><a href="authors.html">All authors...</a></li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://www.tidyverse.org/lifecycle/#maturing"><img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg" alt="lifecycle"></a></li>
<li><a href="https://opensource.org/licenses/MIT"><img src="https://img.shields.io/badge/License-MIT-yellow.svg" alt="License: MIT"></a></li>
<li><a href="https://travis-ci.org/mstrimas/metacapa"><img src="https://img.shields.io/travis/mstrimas/metacapa/master.svg?label=Mac%20OSX%20%26%20Linux" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/mstrimas/metacapa"><img src="https://img.shields.io/appveyor/ci/mstrimas/metacapa/master.svg?label=Windows" alt="AppVeyor Build Status"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Matthew Strimas-Mackey.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
